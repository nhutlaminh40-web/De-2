<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BÃ i 02 - Game ÄoÃ¡n Sá»‘</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="game-body">

    <div class="game-container">
        <a href="index.html" class="back-link">â¬… Quay láº¡i Trang chá»§</a>

        <h1>ğŸ® Game ÄoÃ¡n Sá»‘ BÃ­ áº¨n</h1>
        <p>MÃ¡y tÃ­nh Ä‘Ã£ chá»n má»™t sá»‘ tá»« <strong>1 Ä‘áº¿n 100</strong>.</p>
        <p>Báº¡n hÃ£y thá»­ Ä‘oÃ¡n xem Ä‘Ã³ lÃ  sá»‘ máº¥y nhÃ©!</p>

        <div class="game-input-area">
            <input type="number" id="userGuess" placeholder="Nháº­p sá»‘ cá»§a báº¡n..." min="1" max="100">
            <button onclick="checkGuess()">ÄoÃ¡n ngay</button>
        </div>

        <div class="result-area">
            <p id="message">HÃ£y nháº­p sá»‘ vÃ  báº¥m Ä‘oÃ¡n...</p>
            <p>Sá»‘ láº§n thá»­: <span id="attemptCount">0</span></p>
        </div>

        <button id="restartBtn" onclick="resetGame()" style="display: none; background-color: #007bff;">ChÆ¡i láº¡i game má»›i</button>
    </div>

    <script>
        // 1. Khá»Ÿi táº¡o biáº¿n
        let randomNumber = Math.floor(Math.random() * 100) + 1;
        let attempts = 0;
        
        const messageEl = document.getElementById('message');
        const countEl = document.getElementById('attemptCount');
        const inputEl = document.getElementById('userGuess');
        const restartBtn = document.getElementById('restartBtn');

        // HÃ m kiá»ƒm tra sá»‘ Ä‘oÃ¡n
        function checkGuess() {
            const userValue = parseInt(inputEl.value);

            // Kiá»ƒm tra tÃ­nh há»£p lá»‡
            if (isNaN(userValue) || userValue < 1 || userValue > 100) {
                messageEl.textContent = "âš ï¸ Vui lÃ²ng nháº­p sá»‘ há»£p lá»‡ tá»« 1 Ä‘áº¿n 100!";
                messageEl.className = "wrong";
                return;
            }

            attempts++;
            countEl.textContent = attempts;

            // So sÃ¡nh
            if (userValue === randomNumber) {
                // ÄÃšNG
                messageEl.textContent = `ğŸ‰ CHÃšC Má»ªNG! Báº¡n Ä‘oÃ¡n Ä‘Ãºng sá»‘ ${randomNumber} rá»“i!`;
                messageEl.className = "correct";
                endGame();
            } else if (userValue < randomNumber) {
                // THáº¤P
                messageEl.textContent = "ğŸ“‰ Tháº¥p quÃ¡! Thá»­ sá»‘ lá»›n hÆ¡n xem.";
                messageEl.className = "wrong";
                inputEl.value = "";
                inputEl.focus();
            } else {
                // CAO
                messageEl.textContent = "ğŸ“ˆ Cao quÃ¡! Thá»­ sá»‘ nhá» hÆ¡n xem.";
                messageEl.className = "wrong";
                inputEl.value = "";
                inputEl.focus();
            }
        }

        // HÃ m káº¿t thÃºc game
        function endGame() {
            inputEl.disabled = true;
            restartBtn.style.display = 'inline-block';
        }

        // HÃ m chÆ¡i láº¡i
        function resetGame() {
            attempts = 0;
            countEl.textContent = attempts;
            randomNumber = Math.floor(Math.random() * 100) + 1;
            
            messageEl.textContent = "HÃ£y nháº­p sá»‘ vÃ  báº¥m Ä‘oÃ¡n...";
            messageEl.className = "";
            
            inputEl.disabled = false;
            inputEl.value = "";
            restartBtn.style.display = 'none';
            inputEl.focus();
        }

        // Cho phÃ©p áº¥n Enter Ä‘á»ƒ Ä‘oÃ¡n
        inputEl.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                checkGuess();
            }
        });
    </script>
</body>
</html>
